{"version":3,"sources":["Map.js","ItemBox.js","App.js","index.js"],"names":["DEFAULT_COLOR","HIGHLIGHTED_COLOR","INITIAL_VIEW_STATE","zoom","maxZoom","pitch","bearing","Map","props","state","isMounted","this","data","strokeWidth","ArcLayer","id","coef","getSourcePosition","d","from","getTargetPosition","to","getSourceColor","isUsetItem","highlighted","getTargetColor","getWidth","mapStyle","userLocation","layers","_renderLayers","initialViewState","longitude","latitude","controller","reuseMaps","preventStyleDiffing","mapboxApiAccessToken","_renderTooltip","Component","StyledItemBox","styled","Grid","Info","Title","div","Description","Price","BottomSection","isPlaceholder","Buy","Button","Countdown","StyledBottomSection","countdownValue","onClick","container","xs","item","css","variant","Image","src","Overlay","ItemBox","useState","initTimestamp","setInitTimestamp","setCountdownValue","useEffect","deadline","Date","now","deadlineInterval","setInterval","diff","differenceInMilliseconds","format","getCountdown","clearInterval","onMouseEnter","onHoverEnter","onMouseLeave","onHoverLeave","image","title","description","price","Math","round","OPTIONS","shouldSort","threshold","location","distance","maxPatternLength","minMatchCharLength","keys","MY_LOCATION","ITEMS","LOCATIONS","GlobalStyles","html","height","body","margin","padding","fontFamily","AppContainer","ItemContainer","MapContainer","ModalButton","ModalInner","App","setData","userItem","Fuse","query","qs","parse","window","search","substr","product_json","JSON","console","log","brand","image_url","isUserItem","getUserItem","isModalOpen","setModalOpen","navigator","geolocation","getCurrentPosition","position","setTimeout","onHover","key","newLocations","map","itemKey","onLeave","spacing","styles","TextField","label","fullWidth","Modal","aria-labelledby","aria-describedby","open","onClose","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3f058ec8.chunk.js","sourcesContent":["/* global fetch */\nimport React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport { StaticMap } from \"react-map-gl\";\nimport DeckGL from \"@deck.gl/react\";\nimport { GeoJsonLayer, ArcLayer } from \"@deck.gl/layers\";\nimport { scaleQuantile } from \"d3-scale\";\n\n// Set your mapbox token here\nconst MAPBOX_TOKEN =\n  \"pk.eyJ1IjoiZ2FyeWFuaWtpbiIsImEiOiJjazMxa2M4aW8wNzhzM2JwOWdiYW94dmZqIn0.41wPlZxL13A9TVP2hkF9Zw\";\n\nconst DEFAULT_COLOR = [130, 130, 130];\nconst HIGHLIGHTED_COLOR = [255, 136, 0];\nconst USER_ITEM_COLOR = [255, 81, 100];\n\nconst INITIAL_VIEW_STATE = {\n  zoom: 11,\n  maxZoom: 15,\n  pitch: 30,\n  bearing: 30\n};\n\n/* eslint-disable react/no-deprecated */\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // hoveredCounty: null,\n      // Set default selection to San Francisco\n      // selectedCounty: null,\n      isMounted: false\n    };\n    // this._onHoverCounty = this._onHoverCounty.bind(this);\n    // this._onSelectCounty = this._onSelectCounty.bind(this);\n    // this._renderTooltip = this._renderTooltip.bind(this);\n  }\n\n  // componentDidMount() {\n  //   if (!this.state.isMounted) {\n  //     this.setState({ isMounted: true });\n  //     this._recalculateArcs(this.props.data);\n  //   }\n  // }\n\n  // componentWillReceiveProps(nextProps) {\n  //   if (nextProps.data !== this.props.data && this.state.isMounted) {\n  //     this._recalculateArcs(nextProps.data);\n  //   }\n  // }\n\n  // _onHoverCounty({ x, y, object }) {\n  //   this.setState({ x, y, hoveredCounty: object });\n  // }\n\n  // _onSelectCounty({ object }) {\n  //   this._recalculateArcs(this.props.data, object);\n  // }\n\n  // _renderTooltip() {\n  //   const { x, y, hoveredCounty } = this.state;\n  //   return (\n  //     hoveredCounty && (\n  //       <div className=\"tooltip\" style={{ left: x, top: y }}>\n  //         {hoveredCounty.properties.name}\n  //       </div>\n  //     )\n  //   );\n  // }\n\n  // _recalculateArcs(data, selectedCounty = this.state.selectedCounty) {\n  //   if (!data) {\n  //     return;\n  //   }\n  //   if (!selectedCounty) {\n  //     selectedCounty = data.find(f => f.properties.name === \"Los Angeles, CA\");\n  //   }\n  //   const { flows, centroid } = selectedCounty.properties;\n\n  //   const arcs = Object.keys(flows).map(toId => {\n  //     const f = data[toId];\n  //     return {\n  //       source: centroid,\n  //       target: f.properties.centroid,\n  //       value: flows[toId]\n  //     };\n  //   });\n\n  //   const scale = scaleQuantile()\n  //     .domain(arcs.map(a => Math.abs(a.value)))\n  //     .range(inFlowColors.map((c, i) => i));\n\n  //   arcs.forEach(a => {\n  //     a.gain = Math.sign(a.value);\n  //     a.quantile = scale(Math.abs(a.value));\n  //   });\n\n  //   if (this.props.onSelectCounty) {\n  //     this.props.onSelectCounty(selectedCounty);\n  //   }\n\n  //   this.setState({ arcs, selectedCounty });\n  // }\n\n  _renderLayers() {\n    const { data, strokeWidth = 4 } = this.props;\n\n    return [\n      new ArcLayer({\n        id: \"arc\",\n        data,\n        coef: 0.5,\n        getSourcePosition: d => d.from,\n        getTargetPosition: d => d.to,\n        getSourceColor: d =>\n          d.isUsetItem || d.highlighted ? HIGHLIGHTED_COLOR : DEFAULT_COLOR,\n        getTargetColor: d =>\n          d.isUsetItem || d.highlighted ? HIGHLIGHTED_COLOR : DEFAULT_COLOR,\n        getWidth: strokeWidth\n      })\n    ];\n  }\n\n  render() {\n    const {\n      mapStyle = \"mapbox://styles/garyanikin/ck32bdhkj20dc1cqiaiuw5t1z\",\n      userLocation\n    } = this.props;\n\n    return (\n      <DeckGL\n        layers={this._renderLayers()}\n        initialViewState={{\n          ...INITIAL_VIEW_STATE,\n          longitude: userLocation[0],\n          latitude: userLocation[1]\n        }}\n        controller={true}\n      >\n        <StaticMap\n          reuseMaps\n          mapStyle={mapStyle}\n          preventStyleDiffing={true}\n          mapboxApiAccessToken={MAPBOX_TOKEN}\n        />\n\n        {this._renderTooltip}\n      </DeckGL>\n    );\n  }\n}\n\nexport default Map;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\n/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { format, differenceInMilliseconds } from \"date-fns\";\n\nfunction getCountdown(deadline) {\n  if (!deadline) return \"00:00:00\";\n\n  const diff = differenceInMilliseconds(deadline, +Date.now());\n\n  return format(diff, \"HH:mm:ss\");\n}\n\nfunction ItemBox(props) {\n  const [initTimestamp, setInitTimestamp] = useState(null);\n  const [countdownValue, setCountdownValue] = useState();\n\n  useEffect(() => {\n    if (!props.deadline) return null;\n\n    setInitTimestamp(+Date.now());\n    const deadlineInterval = setInterval(() => {\n      setCountdownValue(getCountdown(initTimestamp + props.deadline));\n    }, 1000);\n\n    return () => {\n      clearInterval(deadlineInterval);\n    };\n  }, []);\n\n  return (\n    <StyledItemBox\n      onMouseEnter={props.onHoverEnter}\n      onMouseLeave={props.onHoverLeave}\n      container\n      css={css`\n        opacity: ${!props.deadline ? 0.6 : 1};\n      `}\n      xs={12}\n    >\n      <Image item src={props.image} xs={6} />\n      <Info item xs={6}>\n        <Title>{props.title}</Title>\n        {/* TODO Only fist letter capital */}\n        <Description>{props.description}</Description>\n        <Price>\n          <strike\n            css={css`\n              opacity: 0.6;\n            `}\n          >\n            {props.price} €\n          </strike>{\" \"}\n          {Math.round(props.price * 0.8)} €\n        </Price>\n        <StyledBottomSection isPlaceholder={true} />\n        <StyledBottomSection onClick={props.onClick} />\n      </Info>\n      {!props.deadline ? <Overlay /> : null}\n    </StyledItemBox>\n  );\n}\n\nconst StyledItemBox = styled(Grid)`\n  position: relative;\n  margin: 1rem 0;\n  border-top: 2px solid transparent;\n  border-bottom: 2px solid transparent;\n  padding: 2rem 0;\n  cursor: pointer;\n\n  &:hover {\n    transition: border-color 0.35s ease-in-out;\n    border-color: rgba(0, 0, 0, 0.1);\n  }\n`;\n\nconst Info = styled(Grid)`\n  position: relative;\n`;\nconst Title = styled.div`\n  font-weight: bold;\n  font-size: 1.1rem;\n  margin-top: 0.5rem;\n`;\nconst Description = styled.div`\n  margin-top: 0.5rem;\n  font-size: 0.8rem;\n`;\nconst Price = styled.div`\n  margin-top: 1rem;\n  font-size: 1.1rem;\n`;\nconst BottomSection = styled(Grid)`\n  position: ${props => (!props.isPlaceholder ? \"absolute\" : null)};\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: ${props => (!props.isPlaceholder ? 1 : 0)};\n`;\nconst Buy = styled(Button)``;\nconst Countdown = styled(Grid)``;\n\nconst StyledBottomSection = ({ countdownValue, isPlaceholder, onClick }) => (\n  <BottomSection isPlaceholder={isPlaceholder} container xs={12}>\n    <Grid item xs={6}>\n      <Buy\n        onClick={onClick}\n        css={css`\n          width: 100%;\n        `}\n        variant=\"outlined\"\n      >\n        BUY\n      </Buy>\n    </Grid>\n    <Grid\n      css={css`\n        display: flexbox;\n        align-items: center;\n        justify-content: center;\n      `}\n      item\n      xs={6}\n    >\n      <Countdown>{countdownValue}</Countdown>\n    </Grid>\n  </BottomSection>\n);\n\nconst Image = props => (\n  <Grid\n    css={css`\n      height: 0;\n      padding-bottom: 50%;\n      position: relative;\n      overflow: hidden;\n    `}\n    {...props}\n  >\n    <div\n      css={css`\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      `}\n    >\n      <img\n        css={css`\n          max-width: 100%;\n          max-height: 100%;\n          margin: 0 auto;\n          display: block;\n        `}\n        src={props.src}\n      />\n    </div>\n  </Grid>\n);\n\nconst Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.15);\n`;\n\nexport default ItemBox;\n","import React, { useState, useEffect } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\n/** @jsx jsx */\nimport { Global, css, jsx } from \"@emotion/core\";\nimport styled from \"@emotion/styled\";\nimport Map from \"./Map\";\nimport ItemBox from \"./ItemBox\";\nimport Fuse from \"fuse.js\";\nimport qs from \"qs\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Button from \"@material-ui/core/Button\";\n\nconst OPTIONS = {\n  shouldSort: true,\n  threshold: 0.6,\n  location: 0,\n  distance: 100,\n  maxPatternLength: 32,\n  minMatchCharLength: 1,\n  keys: [\"title\", \"description\"]\n};\n\n// Source data GeoJSON\nconst DATA_URL =\n  \"https://raw.githubusercontent.com/uber-common/deck.gl-data/master/examples/arc/counties.json\"; // eslint-disable-line\n\nconst MY_LOCATION = [24.8254933, 60.1866719];\n\nconst LOCATION_1 = [24.804905, 60.182799];\nconst LOCATION_2 = [24.852896, 60.179485];\nconst LOCATION_3 = [24.934519, 60.16687];\n\n// Add more items\nconst ITEMS = [\n  {\n    title: \"ACNE STUDIOS\",\n    description: \"x Fjällräven Reversible down jacket\",\n    price: 1100,\n    image:\n      \"https://cdn-images.farfetch-contents.com/13/48/73/95/13487395_15884280_1000.jpg\",\n    deadline: 10000\n  },\n  {\n    title: \"TOM WOOD\",\n    description: \"metallic coin pendant sterling silver necklace\",\n    price: 317,\n    image:\n      \"https://cdn-images.farfetch-contents.com/14/59/99/17/14599917_23150502_1000.jpg\",\n    deadline: 10000\n  }\n  // {\n  //   title: \"AMI PARIS\",\n  //   description: \"Low Top Trainers\",\n  //   price: 306,\n  //   image:\n  //     \"https://cdn-images.farfetch-contents.com/13/20/77/56/13207756_21549202_1000.jpg\",\n  //   deadline: 10000\n  // }\n];\n\nconst LOCATIONS = [\n  { from: MY_LOCATION, to: LOCATION_1 },\n  { from: MY_LOCATION, to: LOCATION_2 },\n  { from: MY_LOCATION, to: LOCATION_3 }\n];\n\nfunction App() {\n  const [search, setSearch] = useState(null);\n  const [data, setData] = useState([]);\n  var fuse = new Fuse(ITEMS, OPTIONS);\n  const userItem = getUserItem();\n\n  const [isModalOpen, setModalOpen] = useState(false);\n\n  useEffect(() => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(function(position) {});\n    }\n    setTimeout(() => {\n      setData(LOCATIONS);\n    }, 3000);\n  }, []);\n\n  const onHover = key => {\n    return () => {\n      const newLocations = LOCATIONS.map((item, itemKey) =>\n        key === itemKey ? { ...item, highlighted: true } : { ...item }\n      );\n      setData(newLocations);\n    };\n  };\n\n  const onLeave = () => {\n    setData([...LOCATIONS]);\n  };\n\n  // const onChange = event => {\n  //   console.log(\"value\", event.target.value);\n  //   setSearch(event.target.value);\n  //   console.log(\"search\", search);\n  // };\n\n  return (\n    <AppContainer container spacing={3}>\n      <Global styles={GlobalStyles} />\n      <Grid item xs={3}>\n        <ItemContainer item xs={12}>\n          <TextField\n            // onChange={onChange}\n            id=\"outlined-helperText\"\n            label=\"Search\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            fullWidth\n          />\n        </ItemContainer>\n        {/* Scrollable GRID */}\n        <Grid item xs={12}>\n          {userItem && (\n            <ItemBox\n              onHoverEnter={onHover(0)}\n              onHoverLeave={onLeave}\n              onClick={() => {\n                console.log(\"open modal\");\n                setModalOpen(true);\n              }}\n              {...userItem}\n            />\n          )}\n          <div\n            css={css`\n              margin-top: 1rem;\n              padding: 2rem 1rem 1rem;\n            `}\n          >\n            You also may like:\n          </div>\n          {/* Add HR line */}\n          {ITEMS.map((item, key) => (\n            <ItemBox\n              onHoverEnter={onHover(key + 1)}\n              onHoverLeave={onLeave}\n              onClick={() => {\n                console.log(\"open modal\");\n                setModalOpen(true);\n              }}\n              {...item}\n            />\n          ))}\n          {/* {(search ? fuse.search(search) : ITEMS).map((item, key) => (\n            // <ItemBox\n            //   onHoverEnter={onHover(key)}\n            //   onHoverLeave={onLeave}\n            //   {...item}\n            // />\n          ))} */}\n        </Grid>\n      </Grid>\n      <MapContainer item xs={9}>\n        <Map data={data} userLocation={MY_LOCATION} />\n      </MapContainer>\n      <Modal\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n        open={isModalOpen}\n        onClose={() => {\n          setModalOpen(false);\n        }}\n      >\n        <ModalInner>\n          <h2 id=\"simple-modal-title\">Are sure want to buy this item?</h2>\n          <p id=\"simple-modal-description\">\n            You will need to ship this item yourself\n          </p>\n          <ModalButton\n            css={css`\n              margin-top: 3rem !important;\n            `}\n            variant=\"outlined\"\n            onClick={() => {\n              setModalOpen(false);\n            }}\n          >\n            PAY\n          </ModalButton>\n        </ModalInner>\n      </Modal>\n    </AppContainer>\n  );\n}\n\nfunction getUserItem() {\n  const query = qs.parse(window.location.search.substr(1));\n\n  if (query.product_json) {\n    const userItem = JSON.parse(query.product_json);\n\n    console.log(userItem);\n    return {\n      title: userItem.brand,\n      description: userItem.title,\n      price: userItem.price,\n      image: userItem.image_url,\n      deadline: 10000,\n      isUserItem: true\n    };\n  } else {\n    return null;\n  }\n}\n\nconst GlobalStyles = {\n  html: {\n    height: \"100%\"\n  },\n  body: {\n    margin: 0,\n    padding: 0,\n    height: \"100%\",\n    fontFamily: `\"Roboto\", \"Helvetica\", \"Arial\", sans-serif`\n  },\n  \"#root\": {\n    height: \"100vh\"\n  }\n};\n\nconst AppContainer = styled(Grid)`\n  height: 100%;\n`;\n\nconst ItemContainer = styled(Grid)`\n  background: white;\n  padding-left: 1rem;\n`;\n\nconst MapContainer = styled(Grid)`\n  position: relative;\n`;\n\nconst ModalButton = styled(Button)`\n  margin: 0 auto;\n`;\n\nconst ModalInner = styled.div`\n  background: white;\n  text-align: center;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 40vw;\n  height: 30vh;\n  outline: none;\n`;\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}